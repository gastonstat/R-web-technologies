<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Web Technologies in R - 11&nbsp; Open Notify API</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./4-03-api-pubmed.html" rel="next">
<link href="./4-01-apis-intro.html" rel="prev">
<link href="./images/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-46765288', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script>
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="site_libs/proj4-2.6.2/proj4.min.js"></script>
<script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="site_libs/leaflet-binding-2.1.2/leaflet.js"></script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Open Notify API</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Web Technologies in R</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">About</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">I Intro</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1-01-introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1-02-web.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The Web</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1-03-http.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Basics of HTTP</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">II XML &amp; HTML</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2-01-xml.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Basics of XML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2-02-parsing-xml.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Parsing XML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2-03-xpath.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">XPath Language</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2-04-html.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Basics of HTML</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">III JSON</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3-01-json.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">JSON Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3-02-jsonlite-package.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">JSON R packages</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">IV APIs</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4-01-apis-intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Web APIs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4-02-api-open-notify.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Open Notify API</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4-03-api-pubmed.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">PubMed API Example</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="toc-section-number">11.1</span>  Introduction</a></li>
  <li><a href="#current-iss-location" id="toc-current-iss-location" class="nav-link" data-scroll-target="#current-iss-location"><span class="toc-section-number">11.2</span>  Current ISS Location</a>
  <ul class="collapse">
  <li><a href="#getting-location-approach-1" id="toc-getting-location-approach-1" class="nav-link" data-scroll-target="#getting-location-approach-1"><span class="toc-section-number">11.2.1</span>  Getting Location (Approach 1)</a></li>
  <li><a href="#getting-location-approach-2" id="toc-getting-location-approach-2" class="nav-link" data-scroll-target="#getting-location-approach-2"><span class="toc-section-number">11.2.2</span>  Getting Location (Approach 2)</a></li>
  <li><a href="#map-with-leaflet-ver-1" id="toc-map-with-leaflet-ver-1" class="nav-link" data-scroll-target="#map-with-leaflet-ver-1"><span class="toc-section-number">11.2.3</span>  Map with <code>"leaflet"</code> (ver 1)</a></li>
  <li><a href="#map-with-leaflet-ver-2" id="toc-map-with-leaflet-ver-2" class="nav-link" data-scroll-target="#map-with-leaflet-ver-2"><span class="toc-section-number">11.2.4</span>  Map with <code>"leaflet"</code> (ver 2)</a></li>
  </ul></li>
  <li><a href="#astronauts-in-space" id="toc-astronauts-in-space" class="nav-link" data-scroll-target="#astronauts-in-space"><span class="toc-section-number">11.3</span>  Astronauts in Space</a>
  <ul class="collapse">
  <li><a href="#getting-data-with-http-request" id="toc-getting-data-with-http-request" class="nav-link" data-scroll-target="#getting-data-with-http-request"><span class="toc-section-number">11.3.1</span>  Getting Data with HTTP request</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="api-open-notify" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Open Notify API</span></span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>In this chapter we provide another fairly simple example of an API: <strong>Open Notify</strong>.</p>
<p>You will need the following packages</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)   <span class="co"># data wrangling and graphics</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr2)       <span class="co"># for HTTP requests</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)    <span class="co"># for working with JSON data</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)     <span class="co"># for interactive web maps</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="introduction" class="level2" data-number="11.1">
<h2 data-number="11.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">11.1</span> Introduction</h2>
<p><strong>Open Notify</strong> is an open source project, developed and maintained by Nathan Bergey, to provide a simple application programming interface (API) for some of NASA’s data.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/api/open-notify1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<p></p><figcaption class="figure-caption">Open Notify API</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>If you visit Open Notify’s website <a href="https://www.open-notify.org" class="uri">https://www.open-notify.org</a>, you’ll see that this API allows you to make 3 types of requests:</p>
<ul>
<li><p>current location of the International Space Station (ISS)</p></li>
<li><p>overhead pass predictions for the ISS</p></li>
<li><p>number of astronauts in space</p></li>
</ul>
</section>
<section id="current-iss-location" class="level2" data-number="11.2">
<h2 data-number="11.2" class="anchored" data-anchor-id="current-iss-location"><span class="header-section-number">11.2</span> Current ISS Location</h2>
<p>To get the current location of the International Space Station (ISS) we need to check the documentation of the <strong>ISS Location Now</strong> webpage given in the link below:</p>
<p><a href="http://open-notify.org/Open-Notify-API/ISS-Location-Now/" class="uri">http://open-notify.org/Open-Notify-API/ISS-Location-Now/</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/api/open-notify2.png" class="img-fluid figure-img" style="width:75.0%"></p>
<p></p><figcaption class="figure-caption">Open Notify API</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>Inspecting the API documentation (see image below), it is possible to use Open Notify to obtain the current location of the ISS by making a request to <a href="http://api.open-notify.org/iss-now.json" class="uri">http://api.open-notify.org/iss-now.json</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/api/open-notify3.png" class="img-fluid figure-img" style="width:75.0%"></p>
<p></p><figcaption class="figure-caption">Open Notify API</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>To reiterate, the URL to get the location data of the ISS is given by:</p>
<pre><code>http://api.open-notify.org/iss-now.json</code></pre>
<p>At the time of this writing, the ISS position is:</p>
<pre><code>{"iss_position": {"longitude": "-58.8531", "latitude": "-28.5444"}, "message": "success", "timestamp": 1699732761}</code></pre>
<p>Notice that this output is given in JSON format which we can momentarily arrange as:</p>
<pre><code>{
  "iss_position": {
    "longitude": "-58.8531", 
    "latitude": "-28.5444"
  }, 
  "message": "success", 
  "timestamp": 1699732761
}</code></pre>
<p>What do we have? We get the longitude and latitude, the message status of the HTTP GET request, and also a UNIX timestamp expressed in number of seconds since Jan-01-1970.</p>
<section id="getting-location-approach-1" class="level3" data-number="11.2.1">
<h3 data-number="11.2.1" class="anchored" data-anchor-id="getting-location-approach-1"><span class="header-section-number">11.2.1</span> Getting Location (Approach 1)</h3>
<p>One way to get the longitude and latitude coordinates of the ISS is by passing the URL directly to the <code>fromJSON()</code> function. Keep in mind that this method does not involve the explicit creation of an HTTP request.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>iss_loc_url <span class="ot">=</span> <span class="st">"http://api.open-notify.org/iss-now.json"</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>iss_loc_list <span class="ot">=</span> <span class="fu">fromJSON</span>(iss_loc_json)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>iss_loc_list</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $iss_position</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $iss_position$longitude</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "-58.8531"</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $iss_position$latitude</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "-28.5444"</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $message</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "success"</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $timestamp</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1699732761</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">

</div>
</section>
<section id="getting-location-approach-2" class="level3" data-number="11.2.2">
<h3 data-number="11.2.2" class="anchored" data-anchor-id="getting-location-approach-2"><span class="header-section-number">11.2.2</span> Getting Location (Approach 2)</h3>
<p>Another approach is to use functions from the R package <code>"httr2"</code>.</p>
<p>The first step is to create a request object with <code>request()</code>, and then complete the full path by appending the JSON file name. After that, we call <code>req_perform()</code> to submit the request:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>req <span class="ot">=</span> <span class="fu">request</span>(<span class="st">"http://api.open-notify.org"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># then add on the query path</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>resp <span class="ot">=</span> req <span class="sc">|&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_url_path_append</span>(<span class="st">"iss-now.json"</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_perform</span>()</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>resp</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;httr2_response&gt;</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; GET http://api.open-notify.org/iss-now.json</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Status: 200 OK</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Content-Type: application/json</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Body: In memory (113 bytes)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Recall that <code>resp</code> is basically an R list with the following elements:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(resp)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "method"      "url"         "status_code" "headers"     "body"       </span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6] "request"     "cache" </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>body</code> element contains the content of the response, and it is in <code>"raw"</code> vector format by default:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>resp<span class="sc">$</span>body</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1] 7b 22 69 73 73 5f 70 6f 73 69 74 69 6f 6e 22 3a 20 7b 22 6c</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [21] 61 74 69 74 75 64 65 22 3a 20 22 2d 31 32 2e 36 36 30 38 22</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [41] 2c 20 22 6c 6f 6e 67 69 74 75 64 65 22 3a 20 22 2d 39 2e 35</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [61] 30 37 33 22 7d 2c 20 22 6d 65 73 73 61 67 65 22 3a 20 22 73</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [81] 75 63 63 65 73 73 22 2c 20 22 74 69 6d 65 73 74 61 6d 70 22</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [101] 3a 20 31 36 39 39 38 39 34 37 31 32 7d</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can use <code>rawToChar()</code> to convert the content into a JSON string:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rawToChar</span>(resp<span class="sc">$</span>body)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "{\"iss_position\": {\"latitude\": \"-28.5444\", \"longitude\": \"-58.8531\"}, \"message\": \"success\", \"timestamp\": 1699732761}"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Alternatively, we can also use <code>resp_body_json()</code> to directly extract the JSON content as a list in R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>resp <span class="sc">|&gt;</span> <span class="fu">resp_body_json</span>()</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $iss_position</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $iss_position$longitude</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "-58.8531"</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $iss_position$latitude</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "-28.5444"</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $message</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "success"</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $timestamp</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1699732761</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="map-with-leaflet-ver-1" class="level3" data-number="11.2.3">
<h3 data-number="11.2.3" class="anchored" data-anchor-id="map-with-leaflet-ver-1"><span class="header-section-number">11.2.3</span> Map with <code>"leaflet"</code> (ver 1)</h3>
<p>With the longitude and latitude of the ISS, we can make a map to visualize its location around the Earth. In an attempt to replicate the map displayed in Open Notify—which is based on a Leaflet map—we can try to get our own map.</p>
<p>The first step is to create a data.frame <code>iss_loc_dat</code> with the longitude (<code>lng</code>) and latitude (<code>lat</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>iss_loc_dat <span class="ot">=</span> <span class="fu">data.frame</span>(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">lng =</span> <span class="fu">as.numeric</span>(iss_loc_list<span class="sc">$</span>iss_position<span class="sc">$</span>longitude),</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">lat =</span> <span class="fu">as.numeric</span>(iss_loc_list<span class="sc">$</span>iss_position<span class="sc">$</span>latitude)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We pass this data to <code>leaflet()</code>, adding tiles, and a couple of markers to indicate the current location.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>(<span class="at">data =</span> iss_loc_dat) <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>() <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircleMarkers</span>(</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">radius =</span> <span class="dv">50</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">stroke =</span> <span class="cn">FALSE</span>, </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillOpacity =</span> <span class="fl">0.3</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMarkers</span>() <span class="sc">|&gt;</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setView</span>(<span class="at">lng =</span> iss_loc_dat<span class="sc">$</span>lng, <span class="at">lat =</span> iss_loc_dat<span class="sc">$</span>lat, <span class="at">zoom =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-7fe105a29bc4d5797b31" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-7fe105a29bc4d5797b31">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[-28.5444,-58.8531,50,null,null,{"interactive":true,"className":"","stroke":false,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.3},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[-28.5444,-58.8531,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-28.5444,-28.5444],"lng":[-58.8531,-58.8531]},"setView":[[-28.5444,-58.8531],3,[]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="map-with-leaflet-ver-2" class="level3" data-number="11.2.4">
<h3 data-number="11.2.4" class="anchored" data-anchor-id="map-with-leaflet-ver-2"><span class="header-section-number">11.2.4</span> Map with <code>"leaflet"</code> (ver 2)</h3>
<p>I was curious about the possibility of adding an image with the silhouette of the ISS. Luckily I found a PNG image file from wikimedia</p>
<p><a href="https://commons.wikimedia.org/wiki/File:International_Space_Station.svg" class="uri">https://commons.wikimedia.org/wiki/File:International_Space_Station.svg</a></p>
<p>The image file that I chose, shown below, was the one with the smallest resolution: 320 x 202 pixels</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/api/320px-International_Space_Station.svg.png" class="img-fluid figure-img" style="width:50.0%"></p>
<p></p><figcaption class="figure-caption">ISS image from Wikimedia</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="cell">

</div>
<section id="creating-an-leaflet-icon" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="creating-an-leaflet-icon">Creating an leaflet Icon</h4>
<p>With the PNG file of the ISS, we have to create an icon via the <code>"leaflet"</code> function <code>makeIcon()</code>. For convenience, we need to resize the icon image by specifying <code>iconWidth</code> and <code>iconHeight</code> dimensions. Also, to center the icon image when displayed on the map, we also need to specify <code>iconAnchorX</code> and <code>iconAnchorY</code> values:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># url of ISS icon from Wikimedia Commons (png file)</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (broken into pieces so that it fits nicely on the screen)</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>wikimedia <span class="ot">=</span> <span class="st">"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/"</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>iss <span class="ot">=</span> <span class="st">"International_Space_Station.svg/"</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>png <span class="ot">=</span> <span class="st">"320px-International_Space_Station.svg.png"</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>iss_icon <span class="ot">=</span> <span class="fu">paste0</span>(wikimedia, iss, png)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co"># define icon properties</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>issIcon <span class="ot">&lt;-</span> <span class="fu">makeIcon</span>(</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">iconUrl =</span> iss_icon,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">iconWidth =</span> <span class="dv">100</span>,</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">iconHeight =</span> <span class="dv">70</span>,</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">iconAnchorX =</span> <span class="dv">50</span>,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">iconAnchorY =</span> <span class="dv">35</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The last step involves making the map:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># leaflet map</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>(<span class="at">data =</span> iss_loc_dat) <span class="sc">|&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>() <span class="sc">|&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircleMarkers</span>(</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">lng =</span> <span class="sc">~</span>lng, </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat =</span> <span class="sc">~</span>lat,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">radius =</span> <span class="dv">70</span>,</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">stroke =</span> <span class="cn">FALSE</span>, </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillOpacity =</span> <span class="fl">0.3</span>) <span class="sc">|&gt;</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMarkers</span>(</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">lng =</span> <span class="sc">~</span>lng, </span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat =</span> <span class="sc">~</span>lat, </span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">icon =</span> issIcon) <span class="sc">|&gt;</span> </span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setView</span>(<span class="at">lng =</span> iss_loc_dat<span class="sc">$</span>lng, <span class="at">lat =</span> iss_loc_dat<span class="sc">$</span>lat, <span class="at">zoom =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-55b0e4df9cf5337feffa" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-55b0e4df9cf5337feffa">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[-28.5444,-58.8531,70,null,null,{"interactive":true,"className":"","stroke":false,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.3},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[-28.5444,-58.8531,{"iconUrl":{"data":"data:image/png;base64,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","index":0},"iconWidth":100,"iconHeight":70,"iconAnchorX":50,"iconAnchorY":35},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-28.5444,-28.5444],"lng":[-58.8531,-58.8531]},"setView":[[-28.5444,-58.8531],2,[]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Pretty nice, isn’t?</p>
</section>
</section>
</section>
<section id="astronauts-in-space" class="level2" data-number="11.3">
<h2 data-number="11.3" class="anchored" data-anchor-id="astronauts-in-space"><span class="header-section-number">11.3</span> Astronauts in Space</h2>
<p>Another kind of data that Open Notify lets you obtain is the number of astronauts in space. To get this data we need to check the documentation of the <strong>People in Space</strong> webpage given in the link below:</p>
<p><a href="http://open-notify.org/Open-Notify-API/People-In-Space/" class="uri">http://open-notify.org/Open-Notify-API/People-In-Space/</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/api/open-notify4.png" class="img-fluid figure-img" style="width:70.0%"></p>
<p></p><figcaption class="figure-caption">Open Notify API: number of people in space</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>To reiterate, the URL to get the location data of the ISS is given by:</p>
<pre><code>http://api.open-notify.org/astros.json</code></pre>
<p>At the time of this writing, the ISS position is:</p>
<pre><code>{"message": "success", "people": [{"name": "Jasmin Moghbeli", "craft": "ISS"}, {"name": "Andreas Mogensen", "craft": "ISS"}, {"name": "Satoshi Furukawa", "craft": "ISS"}, {"name": "Konstantin Borisov", "craft": "ISS"}, {"name": "Oleg Kononenko", "craft": "ISS"}, {"name": "Nikolai Chub", "craft": "ISS"}, {"name": "Loral O'Hara", "craft": "ISS"}], "number": 7}</code></pre>
<p>Notice that this output is given in JSON format which we can momentarily arrange as:</p>
<pre><code>{   
  "message": "success", 
  "people": [
    {"name": "Jasmin Moghbeli", "craft": "ISS"}, 
    {"name": "Andreas Mogensen", "craft": "ISS"}, 
    {"name": "Satoshi Furukawa", "craft": "ISS"}, 
    {"name": "Konstantin Borisov", "craft": "ISS"}, 
    {"name": "Oleg Kononenko", "craft": "ISS"}, 
    {"name": "Nikolai Chub", "craft": "ISS"}, 
    {"name": "Loral O'Hara", "craft": "ISS"}
  ], 
  "number": 7
}</code></pre>
<p>What do we have in this JSON object? We get the <code>"message"</code> status of the HTTP GET request, we also have an array <code>"people"</code> containing the data of the astronauts consisting of their <code>"name"</code> and <code>"craft"</code>; and finally we have the total <code>"number"</code> of people in space.</p>
<section id="getting-data-with-http-request" class="level3" data-number="11.3.1">
<h3 data-number="11.3.1" class="anchored" data-anchor-id="getting-data-with-http-request"><span class="header-section-number">11.3.1</span> Getting Data with HTTP request</h3>
<p>The first step is to create a request object with <code>request()</code>, and then complete the full path by appending the JSON file name. After that, we call <code>req_perform()</code> to submit the request:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>req <span class="ot">=</span> <span class="fu">request</span>(<span class="st">"http://api.open-notify.org"</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># then add on the query path</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>resp <span class="ot">=</span> req <span class="sc">|&gt;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_url_path_append</span>(<span class="st">"astros.json"</span>) <span class="sc">|&gt;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_perform</span>()</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>resp</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;httr2_response&gt;</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; GET http://api.open-notify.org/astros.json</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Status: 200 OK</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Content-Type: application/json</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Body: In memory (360 bytes)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To get the JSON content we use <code>resp_body_json()</code> which returns an R list:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>astros <span class="ot">=</span> resp <span class="sc">|&gt;</span> <span class="fu">resp_body_json</span>()</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>astros</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $message</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "success"</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[1]]</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[1]]$name</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Jasmin Moghbeli"</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[1]]$craft</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "ISS"</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[2]]</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[2]]$name</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Andreas Mogensen"</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[2]]$craft</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "ISS"</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[3]]</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[3]]$name</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Satoshi Furukawa"</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[3]]$craft</span></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "ISS"</span></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[4]]</span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[4]]$name</span></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Konstantin Borisov"</span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[4]]$craft</span></span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "ISS"</span></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[5]]</span></span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[5]]$name</span></span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Oleg Kononenko"</span></span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[5]]$craft</span></span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "ISS"</span></span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[6]]</span></span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[6]]$name</span></span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Nikolai Chub"</span></span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[6]]$craft</span></span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "ISS"</span></span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[7]]</span></span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[7]]$name</span></span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Loral O'Hara"</span></span>
<span id="cb19-59"><a href="#cb19-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-60"><a href="#cb19-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $people[[7]]$craft</span></span>
<span id="cb19-61"><a href="#cb19-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "ISS"</span></span>
<span id="cb19-62"><a href="#cb19-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-63"><a href="#cb19-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-64"><a href="#cb19-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb19-65"><a href="#cb19-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $number</span></span>
<span id="cb19-66"><a href="#cb19-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So far, so good.</p>
<p>But what if we want to arrange the astronauts data into a table (e.g.&nbsp;data frame or tibble)? The <code>astros</code> object is a list, and the element <code>$people</code>—which is also a list—has the data we are interested in.</p>
<p>This is where we can use <code>apply()</code> functions such as <code>lapply()</code> and <code>sapply()</code>. Let’s start with <code>lapply()</code> by extracting the names of the astronauts which are in the first element of the list <code>astros$people</code>. Notice we do this by defining an anonymous function to get the precisely the first element of a list:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract name of astronauts</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(astros<span class="sc">$</span>people, <span class="cf">function</span>(x) x[[<span class="dv">1</span>]])</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Jasmin Moghbeli"</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Andreas Mogensen"</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Satoshi Furukawa"</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Konstantin Borisov"</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[5]]</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Oleg Kononenko"</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[6]]</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Nikolai Chub"</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[7]]</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Loral O'Hara"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The issue is that we still have a list. The good news is that we can <code>unlist()</code> this output, ot we can also use <code>sapply()</code> instead of <code>lapply()</code> so that R returns a <em>simplified</em> output object, in this case a vector:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>astros_name <span class="ot">=</span> <span class="fu">sapply</span>(astros<span class="sc">$</span>people, <span class="cf">function</span>(x) x[[<span class="dv">1</span>]])</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>astros_name</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "Jasmin Moghbeli"    "Andreas Mogensen"   "Satoshi Furukawa"  </span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4] "Konstantin Borisov" "Oleg Kononenko"     "Nikolai Chub"      </span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [7] "Loral O'Hara" </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To get the name of the astronauts’ spacecrafts we repeat the same <code>sapply()</code> operation but now on the second element of the <code>astros$people</code> list</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>astros_craft <span class="ot">=</span> <span class="fu">sapply</span>(astros<span class="sc">$</span>people, <span class="cf">function</span>(x) x[[<span class="dv">2</span>]])</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>astros_craft</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "ISS" "ISS" "ISS" "ISS" "ISS" "ISS" "ISS"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And the last step involves building the table:</p>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>astros_dat <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">name =</span> astros_name, <span class="at">craft =</span> astros_craft)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>astros_dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                name craft
1    Jasmin Moghbeli   ISS
2   Andreas Mogensen   ISS
3   Satoshi Furukawa   ISS
4 Konstantin Borisov   ISS
5     Oleg Kononenko   ISS
6       Nikolai Chub   ISS
7       Loral O'Hara   ISS</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./4-01-apis-intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Web APIs</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./4-03-api-pubmed.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">PubMed API Example</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© 2022-2024, <a href="https://www.gastonsanchez.com">Gaston Sanchez</a></div>   
    <div class="nav-footer-right"><a href="https://www.paypal.com/donate?business=ZF6U7K5MW25W2&amp;currency_code=USD" target="_blank">Donate via PayPal</a></div>
  </div>
</footer>



</body></html>